<!DOCTYPE html>
<html>
<head>
	<title></title>

	<!--Jquery Link  -->
<script src="https://code.jquery.com/jquery.js"></script>
<!-- What's broken...

Crystal values won't reset at the if statements. 

TNeed the button to reset wins and losses.

Both of these seem like scope problems. Can't override the global values of the crystals or the wins and losses. 



 -->

<style type="text/css">


    body {

      background-color: rgb(204, 153, 0);
    }
    .crystals {
        height:80%;
        width:100%;
        float:left;

    }
    .rupee-image {

    height:200px;
    width:200px;
    }

    #targetnumber {

      float:left;
      font: 20px;
      height:50px;
      width:800px;
      position:absolute;
      color: rgb(255, 255, 102);
    }

    h1 {
    color: rgb(255, 255, 102);
    

    }

    .winslosses {

      float:right;
      height:200px;
      width: 200px;
      font-size: 30px;

    }
    </style>
</head>

<body>

<!-- Container begin -->

<h1> Number to Guess:  <span id="targetnumber"></h1>

<div class="winslosses"> </div>
<div class="crystals">


</div>
<!-- Container End -->
</div> 

<script type="text/javascript">

// Code the button above "#random-button" to generate a random number between 0 and 100, then display that num at the top of the screen.

// THen create four buttons with the four rupee images you found, and assign each a value.

// VARIABLES

 $(document).ready(function() {





// GLOBAL SCOPE VARIABLES =================================

// generates a random no. b/t 1 and 20 to use for testing. Displays that no. in the targetnumber div. 
// var target = Math.floor((Math.random() * 102 ) +19);
var target = Math.floor((Math.random() * 20) +1); 
$("#targetnumber").text(target);


var counter = 0;
var wins = 0;
var loss = 0;
    // displays the wins and losses in the .winslosses div.
$(".winslosses").text("Wins " + wins + "Losses " + loss);
    // generates 4 random numbers between 1 and 12. 
var options = [Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1)];


for (var i = 0; i < options.length; i++) {




  var image = $("<img class='rupee-image' src='https:ih0.redbubble.net/image.31622460.1172/sticker,375x360.png'>");




image.attr("data-rupeeValue", options[i]);

$(".crystals").append(image);
};





$(".rupee-image").on("click", function(){

var rupeeValue = ($(this).attr("data-rupeeValue"))
  ;

  rupeeValue= parseInt(rupeeValue);

  counter += rupeeValue;









// Lose/Win logic goes below. 

var reset = function () { 


counter = 0;

// Tried to reset global crystal values below... 



 var options = [Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1),
Math.floor((Math.random()*12)+1)];


for (var i = 0; i < options.length; i++) {




image.attr("data-rupeeValue", options[i]);

};  

// ==============


target = Math.floor((Math.random() * 20) + 1);

$("#targetnumber").text(target);



}; 


alert("Your score: " + counter);

  if (counter === target) {
      alert("You win!")
        wins++;
        $(".winslosses").text("Wins " + wins + "Losses " + loss);

        reset()
        ;    
} 
  else if (counter >= target) {
    alert("You lose!!");
        loss++;
        $(".winslosses").text("Wins " + wins + "Losses " + loss);

reset();

};




});

// made a reset button to reset the wins and losses. 
// var resetbutton = $("<button id='reset'>");
// resetbutton.html("Click here to reset wins and losses.");
// $("body").append(resetbutton);
// $(".resetbutton").on("click", function() {
// wins = 0;
// loss = 0;


// });

// write in 

}); // end document ready 



	
</script>




</body>
</html>